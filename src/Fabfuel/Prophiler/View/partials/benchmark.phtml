<?php
/**
 * @var \Fabfuel\Prophiler\Toolbar\Formatter\BenchmarkFormatterInterface $benchmarkFormatter
 */
?><div class="panel panel-default">
    <div class="panel-heading" role="tab" id="heading-<?= $benchmarkFormatter->getId() ?>">
        <h4 class="panel-title" style="font-size: 1.1em">
            <?php if ($benchmarkFormatter->getMetadata()): ?>
                <a class="collapsed" data-toggle="collapse" data-parent="#benchmarks" href="#collapse-<?= $benchmarkFormatter->getId() ?>" aria-expanded="false" aria-controls="collapseTwo">
                    Benchmark: <?= $benchmarkFormatter->getName() ?>
                </a>
            <?php else: ?>
                Benchmark: <?= $benchmarkFormatter->getName() ?>
            <?php endif; ?>

            <span class="pull-right">
                <span class="label" style="background-color: <?= $benchmarkFormatter->getColor() ?>"><span class="glyphicon glyphicon-<?= $benchmarkFormatter->getIcon() ?>"></span> <?= $benchmarkFormatter->getComponent() ?></span>
                <?= $benchmarkFormatter->getMemoryUsage() ?> | <?= $benchmarkFormatter->getDuration() ?>
            </span>
        </h4>
    </div>
    <?php if ($benchmarkFormatter->getMetadata()): ?>
    <div id="collapse-<?= $benchmarkFormatter->getId() ?>" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-<?= $benchmarkFormatter->getId() ?>">
        <div class="panel-body">
            <dl class="dl-horizontal">
                <?php foreach ($benchmarkFormatter->getMetadata() as $metadataName => $metadata): ?>
                    <?php $this->partial('partials/data', ['data' => $metadata, 'dataName' => $metadataName, 'json' => true]); ?>
                <?php endforeach; ?>
            </dl>
        </div>
    </div>
    <?php endif; ?>
</div>
